<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Video Controls Fix</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>

    <script>
      AFRAME.registerComponent("play-pause", {
        init: function () {
          // Fixed: Selector now matches the id="video1" in the HTML
          var myvideo = document.querySelector("#video1");
          var videoControls = document.querySelector("#videoControls");

          this.el.addEventListener("click", function () {
            if (myvideo.paused) {
              myvideo.play();
              videoControls.setAttribute("src", "#pause");
            } else {
              myvideo.pause();
              videoControls.setAttribute("src", "#play");
            }
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets timeout="10000">
        <img id="play" src="play.png" />
        <img id="pause" src="pause.png" />

        <video
          id="video1"
          src="video.mp4"
          preload="auto"
          autoplay
          loop
          muted
          playsinline
          webkit-playsinline
        ></video>
      </a-assets>

      <a-video src="#video1" width="8" height="4.5" position="0 1.5 -5">
        <a-image
          id="videoControls"
          src="#play"
          position="0 -3 0.1"
          scale="0.5 0.5 1"
          play-pause
        >
        </a-image>
      </a-video>

      <a-camera>
        <a-cursor color="#2E3436"></a-cursor>
      </a-camera>
    </a-scene>
  </body>
</html>
